import Image from 'next/image'
import Head from 'next/head'
import {MDXProvider} from '@mdx-js/react'

export default function Layout({children}) {
    return (
        <MDXProvider>
            <article>
                <Head>
                    <title>Page Speed Optimization</title>
                </Head>
                <style jsx>{`


                article {
                    justify-content: start;
                    margin-left: 5%;
                    margin-right: 5%;
                    row-gap: 3em;
                }

                a {
                    color: red;
                    text-decoration: underline;
                    target: _blank;
                }

                a:hover {
                    color: red;
                    text-decoration: none;
                }

                h1 {
                    text-align: center;
                    font-size: 2em;
                }

                h2 {
                    margin-top: 2rem;
                    margin-bottom: 2rem;
                    font-size: 1.5em;
                }

                h3 {
                    margin-top: 2rem;
                    margin-bottom: 2rem;
                    font-size: 1.5sem;
                }

                p {
                    font-size: 1.2em;
                }

                @media only screen and (min-width: 768px) {

                    article {
                        margin-left: 15%;
                        margin-right: 15%;
                    }

                }
                `}</style>
                {children}
            </article>
        </ MDXProvider>
    )
}

# HOW FAST SHOULD YOUR WORDPRESS WEBSITE LOAD? (AND HOW TO MAKE IT LOAD FASTER)

- Content
    - [Why speed matters](#intro)
    - [How your browser loads content](#page-load)
    - [Making your website lighter](#file-size)
    - [Making your website fluid](#render-blocking)
    - [Making your website faster](#server-response)
    - [Conclusion](#conclusion)

## <a name='intro'></a> It doesn't matter if you have one of the most beautiful websites out there, if it doesn't load fast enough, no one will see it

So I'm sure you're asking yourself, "What kind of speed is he talking about?".

Well, is a loading speed of under 1 second too fast for you? Apparently, for Google, that's <a target='_blank' href='https://www.youtube.com/watch?v=OpMfx_Zie2g' >still a tad bit slow.</a>

The reason for that is simple: <a target='_blank' href='https://unbounce.com/page-speed-report/'>most people bounce after waiting for just 3 seconds.</a>

If you're curious, you can check your website's speed using Google's <a target='_blank' href='https://pagespeed.web.dev/'>PageSpeed Insights tool.</a> Just input your site's address and check the score.

If yours is like most other WordPress websites out there, the results probably look like this:

<Image src={'/wp/perf1.png'} alt={'Bad PageSpeed Insights score'} width={'600'} height={'300'} />

<Image src={'/wp/perf2.png'} alt={'Time it took to complet PageSpeed Insights Metrics: almost 20 seconds'} width={'800'} height={'300'} />

More than 10 seconds to fully load the page (ouch!).

If your results are actually better than those, congratulations! If not, don't worry — keep reading and you'll learn exactly how to make that speed dial go all the way up.

## <a name='page-load'></a> Page load: behind the scenes

So what happens when you load a web page into your web browser? (You can go ahead and skip this part if you're a veteran).

By typing a web address into your browser's address bar and hitting enter you're actually making a request to the web server located at that address. When the server receives that request it's going to send the files necessary to load the page back to your browser.

<Image src={'/wp/perf7.png'} alt={'Browser request and server response'} width={'1000'} height={'400'} />

I'm keeping it simple on purpose here so that we can focus on what matters: speed!

The first thing that's noticeable there is the fact that, the longer the server takes to send the files back, the longer the user will have to wait for your page to load. So that's the first thing to watch out for: **server response time**.

After the browser receives those files, it's going to start reading them and loading the website as per the instructions it's given. The more instructions it has to go through (the longer the file is), the longer the user will have to keep waiting; the second thing to watch out for: **file size**.

Also, if while the browser reads the files it notices it needs more resources to display the full page (images, videos, stylesheets, web fonts), it's going to have to fetch those resources, which means more time waiting on servers to respond, and even more time reading those new resources.

So third thing to watch out for: **additional network requests**.

And last but not least, if while waiting for those requests to come through the browser stops reading the file it was reading before, that's even more waiting time for every new request made. So fourth thing to watch out for: **render-blocking resources**.

If you sum all those extra waiting times together it becomes easy to understand how a website can go past the 10-second mark when loading.

If you haven't closed the PageSpeed Insights' tab yet, you'll notice they suggest some actions to improve the page's performance that are very similar to what we just discussed here:

<Image src={'/wp/perf3.png'} alt={'PageSpeed Insights speed improvement suggestions'} width={'1000'} height={'400'} />

So now that the potential roots of our problem are clear, what can we do to fix them?

## <a name='file-size'></a> Reducing file size

The first order of business is to cut what's holding you back.

You'd be surprised at how easy it is to keep it light on the web. In fact, doing that on a WordPress website is even easier — all it takes is to enable (or disable) the right plugins.

It's time to pull out your browser's developer tools. If you're not familiar with them already, just right-click anywhere on your page and pick the "Inspect" option on the menu that shows up. You'll see a whole new section pop up on the same page, with lots of cool new features. Look for the "Network" one, and refresh the page without closing the Dev Tools.

<Image src={'/wp/perf4.png'} alt={'Browser developer tools\' network tab'} width={'1000'} height={'400'} />

You can now see all the requests your browser makes while the page loads and how long they take to complete. Usually, an unoptimized WordPress website will load a bunch of unused CSS and JS (stylesheets and code) from installed plugins.

There are probably one or two old plugins that you don't use anymore and that can be deleted, which will help a bit in a faster loading speed.

By switching to the "Coverage" tab it'll be even easier to see which loaded resources don't get used as much as you'd think.

<Image src={'/wp/perf5.png'} alt={'Browser developer tools\' coverage tab'} width={'800'} height={'400'} />

You can also install specific plugins such as <a target='_blank' href='https://wordpress.org/plugins/hummingbird-performance/'>Hummingbird</a> which will defer the loading of those unused files for you. It'll also minify and compress them (reduce their size), among other things that we'll talk about later on.

## <a name='render-blocking'></a> No more render-blocking and unnecessary requests

As stated before, render-blocking resources are also a major issue when it comes to loading speed.

Similar to what we did earlier, the first thing you should think of doing is to eliminate whatever is possible from the files.

Secondly, deferring or inlining critical assets can help the browser load particular resources more intelligently. By that, I mean that these resources will only load when and if they're needed, not all at once along with the entire page.

<a target='_blank' href='https://wordpress.org/plugins/hummingbird-performance/'>Hummingbird</a> is, again, the easiest and simplest way to get that done. 

The same is true for the extra unnecessary network requests — instead of waiting to make those requests (adding to the total load time), the plugin can preload those resources, which means it'll indicate to the browser that those requests should be fetched as soon as possible.

## <a name='server-response'></a> Faster server response time

This one is a little trickier. Messing with server specifications takes a little bit of work, which we won't go into in this post.

But other measures you can take to improve the response time are choosing optimized themes, optimized plugins, and caching.

The idea behind optimized themes and plugins has already been discussed here — you can choose the ones that best suit your needs, configuring them accordingly.

Caching is good if the same user visits your website more than once in the span of a few days or weeks. You basically save chunks of your page — or the whole thing, if doable — inside the user's browser or in other servers closer to his location. That way, whenever the user accesses your website again, it will load faster than ever given that the server response time was greatly improved.

## <a name='conclusion'></a> Conclusion

To wrap things up, here is a summary of what we discussed in this post:

- The file size is one important part of web performance. Removing unused files and optimizing the critical ones can easily be done with a WordPress plugin;
- Render-blocking resources and too many network calls are other major problems. Those can be fixed by preloading content and inlining content with the help of a plugin;
- To improve the server response time, you can cache your page and make use of optimized plugins and themes;

There's more to this subject, like optimizing images, CDNs, optimizing fonts, lazy-loading, Lighthouse metrics analysis, and much more. But if you manage to implement the simple changes mentioned here your WordPress performance is bound to skyrocket; the rest is just fine tuning.

Soon enough your score will look like the one below and your website will be accessible to anyone, anywhere.

<Image src={'/wp/perf6.png'} alt={'Good PageSpeed Insights score'} width={'600'} height={'300'} />